{"version":3,"sources":["../src/DispatchListener.jsx"],"names":["DispatchListener","props","name","type","handler","id","context","storeSet","addDispatchListener","action","removeDispatchListener","children","Component","contextTypes","object","isRequired","defaultProps","propTypes","string","func"],"mappings":";;;;;;;;AAAA;;;;;;;;;;;;IAEMA,gB;;;;;;;;;;;yCACiB;AAAA,mBACa,KAAKC,KADlB;AAAA,UACXC,IADW,UACXA,IADW;AAAA,UACLC,IADK,UACLA,IADK;AAAA,UACCC,OADD,UACCA,OADD;;AAEnB,WAAKF,IAAL,GAAYA,IAAZ;AACA,WAAKG,EAAL,GAAU,KAAKC,OAAL,CAAaC,QAAb,CAAsBC,mBAAtB,CACR,KAAKN,IADG,EAER,UAACO,MAAD,EAAY;AACV,YAAIA,OAAON,IAAP,KAAgBA,IAApB,EAA0B;AACxBC,kBAAQK,MAAR;AACD;AACF,OANO,CAAV;AAQD;;;2CACsB;AACrB,WAAKH,OAAL,CAAaC,QAAb,CAAsBG,sBAAtB,CAA6C,KAAKR,IAAlD,EAAwD,KAAKG,EAA7D;AACD;;;6BACQ;AAAA,UACCM,QADD,GACc,KAAKV,KADnB,CACCU,QADD;;AAEP,aAAOA,YAAY,IAAnB;AACD;;;;EAnB4B,gBAAMC,S;;AAqBrCZ,iBAAiBa,YAAjB,GAAgC;AAC9BN,YAAU,iBAAUO,MAAV,CAAiBC;AADG,CAAhC;AAGAf,iBAAiBgB,YAAjB,GAAgC;AAC9Bb,QAAM;AADwB,CAAhC;AAGAH,iBAAiBiB,SAAjB,GAA6B;AAC3Bf,QAAM,iBAAUgB,MAAV,CAAiBH,UADI;AAE3BZ,QAAM,iBAAUe,MAAV,CAAiBH,UAFI;AAG3BX,WAAS,iBAAUe,IAAV,CAAeJ;AAHG,CAA7B;kBAKef,gB","file":"DispatchListener.js","sourcesContent":["import React, { PropTypes } from 'react'\n\nclass DispatchListener extends React.Component {\n  componentWillMount() {\n    const { name, type, handler } = this.props\n    this.name = name\n    this.id = this.context.storeSet.addDispatchListener(\n      this.name,\n      (action) => {\n        if (action.type === type) {\n          handler(action)\n        }\n      },\n    )\n  }\n  componentWillUnmount() {\n    this.context.storeSet.removeDispatchListener(this.name, this.id)\n  }\n  render() {\n    const { children } = this.props\n    return children || null\n  }\n}\nDispatchListener.contextTypes = {\n  storeSet: PropTypes.object.isRequired,\n}\nDispatchListener.defaultProps = {\n  type: '*'\n}\nDispatchListener.propTypes = {\n  name: PropTypes.string.isRequired,\n  type: PropTypes.string.isRequired,\n  handler: PropTypes.func.isRequired,\n}\nexport default DispatchListener\n"]}